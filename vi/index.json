[
{
	"uri": "/vi/6-policiespermissions/6.4-boundaries/6.4.1-users/",
	"title": "Boundaries cho Users",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng attach-user-policy Attach Managed Policies vào User được chỉ định detach-user-policy Detach Managed Policies khỏi User được chỉ định put-user-permissions-boundary Chỉ định Managed Policies làm ranh giới quyền của User được chỉ định delete-user-permissions-boundary Xóa Managed Policies đã được chỉ định làm ranh giới quyền khỏi User được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nChỉ định ranh giới quyền cho Users Để dễ dàng thì trong phần này chúng ta sẽ sử dụng các AWS Managed Policies Thực hiện câu lệnh attach-user-policy để Attach AWS Managed Policies AdministratorAccess vào User FCJ-User aws iam attach-user-policy --user-name FCJ-User --policy-arn arn:aws:iam::aws:policy/AdministratorAccess Thực hiện câu lệnh put-user-permissions-boundary để chỉ định AWS Managed Policies AmazonEC2FullAccess là ranh giới quyền của User FCJ-User aws iam put-user-permissions-boundary --user-name FCJ-User --permissions-boundary arn:aws:iam::aws:policy/AmazonEC2FullAccess Simulator Permissions boundaries Reload lại trang IAM Policy Simulator Tại phần Users, Groups, and Roles, chọn FCJ-User Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách AWS Managed Policies AdministratorAccess, trong phần Permission Boundary Policy là chính sách AWS Managed Policies AmazonEC2FullAccess chúng ta đã thêm vào User FCJ-User ở bước trên Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả allowed cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ Lamda, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Như vậy, chúng ta đã thiết lập thành công ranh giới quyền tối đa cho User FCJ-User chỉ là AmazonEC2FullAccess, không phải AdministratorAccess\nXóa ranh giới quyền khỏi Users Thực hiện câu lệnh delete-user-permissions-boundary để xóa Managed Policies đã được chỉ định làm ranh giới quyền của User FCJ-User aws iam delete-user-permissions-boundary --user-name FCJ-User Thực hiện câu lệnh detach-user-policy để detach AWS Managed Policies AdministratorAccess khỏi User FCJ-User aws iam detach-user-policy --user-name FCJ-User --policy-arn arn:aws:iam::aws:policy/AdministratorAccess "
},
{
	"uri": "/vi/1-introduce/",
	"title": "Giới thiệu",
	"tags": [],
	"description": "",
	"content": "Chúng ta sẽ tìm hiểu một số khái niệm chính liên quan đến Workshop này: IAM CLI IAM AWS IAM là một dịch vụ quan trọng trong hệ sinh thái của Amazon Web Services (AWS), được thiết kế để quản lý và kiểm soát quyền truy cập vào các tài nguyên trong môi trường đám mây của AWS một cách bảo mật.\nAWS IAM cho phép bạn tạo và quản lý danh tính (Identities) các người dùng (Users), nhóm người dùng (User Groups) và vai trò (Roles), cho phép bạn quản lý truy cập (Access Management) thông qua các chính sách (Policies) và quyền (Permissions) đối với các danh tính trong tài khoản của bạn.\nCác phương pháp truy cập IAM:\nAWS Management Console AWS Command Line Tools (AWS CLI) AWS Software Development Kits (AWS SDKs) IAM Query API CLI AWS CLI là một công cụ mạnh mẽ để quản lý và tương tác với các tài nguyên và dịch vụ trong môi trường đám mây của AWS nói chung và AWS IAM nói riêng bằng cách sử dụng các lệnh dòng lệnh và scripts tự động hóa.\nTrong phạm vi bài workshop này, chúng ta sẽ cùng tìm hiểu cách để sử dụng AWS CLI để tương tác với các thành phần của IAM\n"
},
{
	"uri": "/vi/",
	"title": "IAM với AWS CLI",
	"tags": [],
	"description": "",
	"content": "IAM với AWS CLI Tổng quan Trong bài Lab này, chúng ta sẽ cùng tìm hiểu về AWS IAM (Identity and Access Management) và các thao tác với IAM thông qua AWS CLI (AWS Command Line Interface)\nNội dung 1. Giới thiệu\n2. Các bước chuẩn bị\n3. Thao tác Users\n4. Thao tác với User Groups\n4. Thao tác với Roles\n6. Policies và Permissions\n7. Dọn dẹp tài nguyên\n"
},
{
	"uri": "/vi/6-policiespermissions/6.1-policysimulator/",
	"title": "Policy Simulator",
	"tags": [],
	"description": "",
	"content": "Tìm hiểu về Policy Simulator Policy Simulator là một trình mô phỏng cho phép chúng ta kiểm tra xem một User hoặc Role cụ thể có quyền truy cập tới các tài nguyên AWS nào và có thể thực hiện được những hành động gì. Điều này giúp đảm bảo rằng các chính sách quản lý và quyền truy cập của chúng ta được cấu hình chính xác.\nBằng cách sử dụng Policy Simulator, chúng ta có thể tối ưu hóa các chính sách quản lý và quyền truy cập để đảm bảo rằng User hoặc Role chỉ có quyền truy cập vào những tài nguyên nào và chỉ được phép thực hiện hành động được chỉ định.\nCách truy cập Policy Simulator Truy cập Giao diện quản trị dịch vụ IAM Chọn Dashboard Chọn Policy Simulator Chúng ta sẽ được đưa đến trang IAM Policy Simulator Trong phần Users, Groups, and Roles cho phép chúng ta chỉ định danh tính cần mô phỏng, có thể là Users, Groups, hoặc Roles Trong phần Policy Simulator bao gồm Phần lựa chọn Select service để lựa chọn các dịch vụ của AWS như S3, EC2, Lamda,\u0026hellip; Phần lựa chọn Select actions để lựa chọn các hành động với từng dịch vụ, có thể lựa chọn Select All hoặc Deselect All,\nhoặc lựa chọn từng hành động cụ thể: StartInstance (EC2), StopInstance (EC2), CreateBucket (S3), DeleteBucket (S3), \u0026hellip; Nút Run Simulator để tiến hành mô phỏng Nút Clear Result để xóa các kết quả đã được mô phỏng, để tiến hành mô phỏng các dịch vụ hoặc hành động khác Để hiểu cách hoạt động và vận dụng Policy Simulator ta sẽ sử dụng nó cho việc mô phỏng các chính sách trong từng trường hợp cụ thể ở những phần sau.\n"
},
{
	"uri": "/vi/2-preparation/2.1-createroles/",
	"title": "Tạo IAM Role",
	"tags": [],
	"description": "",
	"content": "Trình tự thực hiện Truy cập Giao diện quản trị dịch vụ IAM Chọn Roles Chọn Create Role Tại trang Select trusted entity Tại mục Trusted entity type, chọn AWS service Tại mục Use case, nhập EC2 Cuộn chuột xuống dưới cùng, chọn Next Tại trang Add permissions Tại mục Permissions policies, tích chọn AdministratorAccess Cuộn chuột xuống dưới cùng, chọn Next Tại trang Name, review, and create Tại mục Role name, nhập FCJ-Admin-Role Kiểm tra lại thông tin, sau đó chọn Create Role Hoàn thành Tạo IAM Roles FCJ-Admin-Role "
},
{
	"uri": "/vi/6-policiespermissions/6.2-inlinepolicies/6.2.1-createpolicies/",
	"title": "Tạo Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng put-user-policy Nhúng Inline Policies vào User được chỉ định list-user-policies Liệt kê tất cả Inline Policies của User được chỉ định put-group-policy Nhúng Inline Policies vào Group được chỉ định list-group-policies Liệt kê tất cả Inline Policies của Group được chỉ định put-role-policy Nhúng Inline Policies vào Role được chỉ định list-role-policies Liệt kê tất cả Inline Policies của Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nTạo Policies Thực hiện câu lệnh sau để tạo file FCJ-User-Inline-Policy.json. File này sẽ chứa chính sách gán cho User ở bước sau.\nChính sách này sẽ cấp quyền truy cập EC2 FullAccess cat \u0026lt;\u0026lt;EOF \u0026gt; FCJ-User-Inline-Policy.json\r{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:*\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r}\r]\r}\rEOF Kiểm tra lại thông tin file FCJ-User-Inline-Policy.json bằng lệnh sau: cat FCJ-User-Inline-Policy.json Thực hiện câu lệnh sau để tạo file FCJ-Inline-Policy.json. File này sẽ chứa chính sách gán cho Group và Role ở bước sau\nChính sách này sẽ cấp quyền truy cập S3 FullAccess cat \u0026lt;\u0026lt;EOF \u0026gt; FCJ-User-Inline-Policy.json\r{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:*\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r}\r]\r}\rEOF Kiểm tra lại thông tin file FCJ-Inline-Policy.json bằng lệnh sau: cat FCJ-Inline-Policy.json Tạo Inline Policies cho User Thực hiện câu lệnh put-user-policy để nhúng Inline Policies FCJ-User-Inline-Policy vào User FCJ-User-Login aws iam put-user-policy --user-name FCJ-User-Login --policy-name FCJ-User-Inline-Policy --policy-document file://FCJ-User-Inline-Policy.json Thực hiện câu lệnh list-user-policies để liệt kê tất cả Inline Policies của User FCJ-User-Login\nChúng ta thấy hiện tại User FCJ-User-Login đang có Inline Policies FCJ-User-Inline-Policy aws iam list-user-policies --user-name FCJ-User-Login Tạo Inline Policies cho Groups Thực hiện câu lệnh put-group-policy để nhúng Inline Policies FCJ-Inline-Policy vào Group FCJ-Group aws iam put-group-policy --group-name FCJ-Group --policy-name FCJ-Inline-Policy --policy-document file://FCJ-Inline-Policy.json Thực hiện câu lệnh list-group-policies để liệt kê tất cả Inline Policies của Group FCJ-Group\nChúng ta thấy hiện tại Group FCJ-Group đang có Inline Policies FCJ-Inline-Policy aws iam list-group-policies --group-name FCJ-Group Thực hiện câu lệnh get-group để kiểm tra thông tin của Group FCJ-Group (trong trường hợp bạn không biết User nào hiện đang nằm trong Group FCJ-Group) aws iam get-group --group-name FCJ-Group Tạo Inline Policies cho Roles Thực hiện câu lệnh put-role-policy để nhúng Inline Policies FCJ-Inline-Policy vào Role FCJ-Role aws iam put-role-policy --role-name FCJ-Role --policy-name FCJ-Inline-Policy --policy-document file://FCJ-Inline-Policy.json Thực hiện câu lệnh list-role-policies để liệt kê tất cả Inline Policies của Role FCJ-Role\nChúng ta thấy hiện tại Role FCJ-Role đang có Inline Policies FCJ-Inline-Policy aws iam list-role-policies --role-name FCJ-Role Tiếp theo chúng ta sẽ tiến hành mô phỏng các Inline Policies chúng ta đã nhúng vào các Entities phía trên.\n"
},
{
	"uri": "/vi/6-policiespermissions/6.3-managedpolicies/6.3.1-createpolicies/",
	"title": "Tạo Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng create-policy Tạo một Policy mới list-policies Liệt kê tất cả các Policies hiện có trong Account Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nTạo Policies Thực hiện câu lệnh sau để tạo file FCJ-User-Managed-Policy.json. File này sẽ chứa chính sách gán cho User ở bước sau. Chính sách này sẽ: Cấp quyền Allow với 2 Action ec2:StartInstances và ec2:StopInstances với mọi Resource EC2 nhưng với Condition là ResourceTag với Key=Group, Value=FCJ Cấp quyền Allow với Action ec2:DescribeInstances với mọi Resource EC2 cat \u0026lt;\u0026lt;EOF \u0026gt; FCJ-User-Managed-Policy.json\r{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:StartInstances\u0026#34;,\r\u0026#34;ec2:StopInstances\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;,\r\u0026#34;Condition\u0026#34;: {\r\u0026#34;StringEquals\u0026#34;: {\r\u0026#34;aws:ResourceTag/Group\u0026#34;: \u0026#34;FCJ\u0026#34;\r}\r}\r},\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;ec2:DescribeInstances\u0026#34;,\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r}\r]\r}\rEOF Kiểm tra lại thông tin file FCJ-User-Managed-Policy.json bằng lệnh sau: cat FCJ-User-Managed-Policy.json Thực hiện câu lệnh sau để tạo file FCJ-Managed-Policy.json. File này sẽ chứa chính sách gán cho Group và Role ở bước sau. Chính sách này sẽ: Cấp quyền Allow với 3 Action s3:ListBucket, s3:CreateBucket và s3:DeleteBucket với mọi Resource S3 Cấp quyền Allow với 3 Action ec2:DescribeInstances, ec2:DescribeImages và ec2:DescribeInstanceTypes với mọi Resource EC2 cat \u0026lt;\u0026lt;EOF \u0026gt; FCJ-Managed-Policy.json\r{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;s3:ListBucket\u0026#34;,\r\u0026#34;s3:CreateBucket\u0026#34;,\r\u0026#34;s3:DeleteBucket\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r},\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: [\r\u0026#34;ec2:DescribeInstances\u0026#34;,\r\u0026#34;ec2:DescribeImages\u0026#34;,\r\u0026#34;ec2:DescribeInstanceTypes\u0026#34;\r],\r\u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34;\r}\r]\r}\rEOF Kiểm tra lại thông tin file FCJ-Managed-Policy.json bằng lệnh sau: cat FCJ-Managed-Policy.json Thực hiện câu lệnh create-policy để tạo 2 Managed Policies FCJ-User-Managed-Policy và FCJ-Managed-Policy aws iam create-policy --policy-name FCJ-User-Managed-Policy --policy-document file://FCJ-User-Managed-Policy.json\raws iam create-policy --policy-name FCJ-Managed-Policy --policy-document file://FCJ-Managed-Policy.json Thực hiện câu lệnh list-policies để liệt kê tất cả các Policies hiện có trong Account aws iam list-policies Việc chạy các câu lệnh list-policies sẽ mất một ít thời gian, sẽ có nhiều Policies được in ra ở câu lệnh trên, khá khó khăn trong việc truy xuất.\nNên chúng ta có thể thêm option \u0026ndash;query để xử lý đầu ra một cách gọn và đúng mong muốn hơn. Bạn có thể lựa chọn một những option dưới đây: \u0026ndash;query \u0026ldquo;Policies[?PolicyName == \u0026lsquo;FCJ-User-Managed-Policy\u0026rsquo;].[PolicyName, Arn]\u0026rdquo; : Lọc ra Policy có PolicyName=FCJ-User-Managed-Policy, output dạng array gồm 2 thông số PolicyName và Arn \u0026ndash;query \u0026ldquo;Policies[?PolicyName == \u0026lsquo;FCJ-Managed-Policy\u0026rsquo;].[PolicyName, Arn]\u0026rdquo; : Lọc ra Policy có PolicyName=FCJ-Managed-Policy, output dạng array gồm 2 thông số PolicyName và Arn \u0026ndash;query \u0026ldquo;Policies[?starts_with(PolicyName,\u0026lsquo;FCJ\u0026rsquo;)].[PolicyName, Arn]\u0026rdquo; : Lọc ra các Policies có PolicyName bắt đầu bằng FCJ, output dạng array gồm 2 thông số PolicyName và Arn aws iam list-policies --query \u0026#34;Policies[?PolicyName == \u0026#39;FCJ-User-Managed-Policy\u0026#39;].[PolicyName, Arn]\u0026#34;\raws iam list-policies --query \u0026#34;Policies[?PolicyName == \u0026#39;FCJ-Managed-Policy\u0026#39;].[PolicyName, Arn]\u0026#34;\raws iam list-policies --query \u0026#34;Policies[?starts_with(PolicyName,\u0026#39;FCJ\u0026#39;)].[PolicyName, Arn]\u0026#34; "
},
{
	"uri": "/vi/5-workroles/5.1-createrole/",
	"title": "Tạo Roles",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng create-role Tạo Role update-role Cập nhật thông tin Role được chỉ định get-role Xem thông tin của một Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nTạo Trust Policy Đầu tiên ta cần tạo Chính sách tin cậy (Trust Policy) cho Roles. Trust Policy là một tài liệu được viết ở định dạng JSON để xác định ai được phép sử dụng Roles Thực hiện câu lệnh sau, với \u0026lt;your_account_id\u0026gt; là Account ID tài khoản AWS của bạn cat \u0026lt;\u0026lt;EOF \u0026gt; FCJ-Trust-Policy.json\r{\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;: [\r{\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Principal\u0026#34;: { \u0026#34;AWS\u0026#34;: \u0026#34;\u0026lt;your_account_id\u0026gt;\u0026#34; },\r\u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34;\r}\r]\r}\rEOF Câu lệnh trên sẽ tạo file FCJ-Trust-Policy.json, quy định chủ thể được phép Assume Role này, trong trường hợp này là tất cả các User trong tài khoản AWS của bạn. Kiểm tra lại thông tin file bằng lệnh sau: cat FCJ-Trust-Policy.json Tạo Roles Thực hiện câu lệnh create-role để tạo 2 Role FCJ-Role và FCJ-Role-Updated, với chính sách Trust Policy đã được tạo trong file FCJ-Trust-Policy.json aws iam create-role --role-name FCJ-Role --assume-role-policy-document file://FCJ-Trust-Policy.json\raws iam create-role --role-name FCJ-Role-Updated --assume-role-policy-document file://FCJ-Trust-Policy.json Thực hiện câu lệnh get-role để kiểm tra thông tin của Role FCJ-Role-Updated\nChúng ta thấy hiện tại giá trị MaxSessionDuration đang là 3600 aws iam get-role --role-name FCJ-Role-Updated Thực hiện câu lệnh update-role để cập nhật thông số MaxSessionDuration của Role FCJ-Role-Updated thành 7200 aws iam update-role --role-name FCJ-Role-Updated --max-session-duration 7200 Thực hiện câu lệnh get-role để kiểm tra thông tin của Role FCJ-Role-Updated.\nChúng ta thấy hiện tại giá trị MaxSessionDuration đã cập nhật thành 7200 aws iam get-role --role-name FCJ-Role-Updated MaxSessionDuration là thời lượng phiên tối đa (tính bằng giây) mà bạn muốn đặt cho vai trò đã chỉ định. Nếu bạn không chỉ định giá trị cho cài đặt này thì giá trị mặc định là một giờ sẽ được áp dụng. Cài đặt này có thể có giá trị từ 1 giờ đến 12 giờ.\n"
},
{
	"uri": "/vi/4-workusergroups/4.1-creategroup/",
	"title": "Tạo User Groups",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng create-group Tạo Group list-groups Liệt kê tất cả Group hiện có trong Account update-group Cập nhật thông tin Group được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nTạo User Groups Thực hiện câu lệnh create-group để tạo 2 Group FCJ-Group và FCJ-Group-Before aws iam create-group --group-name FCJ-Group\raws iam create-group --group-name FCJ-Group-Before Thực hiện câu lệnh list-groups để liệt kê các Group hiện có trong Account.\nChúng ta thấy hiện tại đang có 2 Group FCJ-Group và FCJ-Group-Before aws iam list-groups Thực hiện câu lệnh update-group để thay đổi tên Group từ FCJ-Group-Before thành FCJ-Group-After aws iam update-group --group-name FCJ-Group-Before --new-group-name FCJ-Group-After Thực hiện câu lệnh list-groups để liệt kê các Group hiện có trong Account.\nChúng ta thấy hiện tại đang có 2 Group FCJ-Group và FCJ-Group-After aws iam list-groups "
},
{
	"uri": "/vi/3-workusers/3.1-createuser/",
	"title": "Tạo Users",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng create-user Tạo User list-users Liệt kê tất cả User hiện có trong Account update-user Cập nhật thông tin User được chỉ định get-user Xem thông tin của một User được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nTạo Users Thực hiện câu lệnh create-user để tạo 2 User FCJ-User và FCJ-User-Before aws iam create-user --user-name FCJ-User\raws iam create-user --user-name FCJ-User-Before Thực hiện câu lệnh list-users để liệt kê các User hiện có trong Account.\nChúng ta thấy hiện tại đang có 2 User FCJ-User và FCJ-User-Before aws iam list-users Thực hiện câu lệnh update-user để cập nhật tên User từ FCJ-User-Before thành FCJ-User-After aws iam update-user --user-name FCJ-User-Before --new-user-name FCJ-User-After Thực hiện câu lệnh list-users để liệt kê các User hiện có trong Account.\nChúng ta thấy hiện tại đang có 2 User FCJ-User và FCJ-User-After aws iam list-users Thực hiện câu lệnh get-user để xem thông tin của một User FCJ-User aws iam get-user --user-name FCJ-User "
},
{
	"uri": "/vi/5-workroles/5.2-attachpolicy/",
	"title": "Attach Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng attach-role-policy Attach Policy vào Role được chỉ định list-attached-role-policies Liệt kê tất cả các Policies của Role được chỉ định detach-role-policy Detach Policy khỏi Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nAttach Policies Thực hiện câu lệnh list-attached-role-policies để liệt kê tất cả các Policies của Role FCJ-Role.\nChúng ta thấy hiện tại Role FCJ-Role không có bất kỳ chính sách nào aws iam list-attached-role-policies --role-name FCJ-Role Thực hiện câu lệnh attach-role-policy để Attach Policy AmazonEC2FullAccess vào Role FCJ-Role aws iam attach-role-policy --policy-arn arn:aws:iam::aws:policy/AmazonEC2FullAccess --role-name FCJ-Role Thực hiện câu lệnh list-attached-role-policies để liệt kê tất cả các Policies của Role FCJ-Role.\nChúng ta thấy hiện tại Role FCJ-Role đã có chính sách AmazonEC2FullAccess được Attached aws iam list-attached-role-policies --role-name FCJ-Role Thực hiện câu lệnh detach-role-policy để Detach Policy AmazonEC2FullAccess khỏi Role FCJ-Role aws iam detach-role-policy --role-name FCJ-Role --policy-arn arn:aws:iam::aws:policy/AmazonEC2FullAccess Thực hiện câu lệnh list-attached-role-policies để liệt kê tất cả các Policies của Role FCJ-Role.\nChúng ta thấy hiện tại Role FCJ-Role không còn bất kỳ chính sách nào aws iam list-attached-role-policies --role-name FCJ-Role arn:aws:iam::aws:policy/AmazonEC2FullAccess là được gọi là AWS Managed Policies, được AWS tạo ra và quản lý.\nChúng ta sẽ tìm hiểu kỹ hơn về Policies và tác động của các loại chính sách lên Role như thế nào trong chương Policies và Permissions.\n"
},
{
	"uri": "/vi/6-policiespermissions/6.3-managedpolicies/6.3.2-attachpolices/",
	"title": "Attach Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng attach-user-policy Attach Managed Policies vào User được chỉ định list-attached-user-policies Liệt kê tất cả Managed Policies của User được chỉ định attach-group-policy Attach Managed Policies vào Group được chỉ định list-attached-group-policies Liệt kê tất cả Managed Policies của Group được chỉ định attach-role-policy Attach Managed Policies vào Role được chỉ định list-attached-role-policies Liệt kê tất cả Managed Policies của Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nAttach Policies Thêm thông tin Account ID của bạn trước khi thực hiện các câu lệnh attach\nThực hiện câu lệnh attach-user-policy để Attach Managed Policies FCJ-User-Managed-Policy vào User FCJ-User-Login aws iam attach-user-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-User-Managed-Policy --user-name FCJ-User-Login Thực hiện câu lệnh attach-group-policy để Attach Managed Policies FCJ-Managed-Policy vào Group FCJ-Group aws iam attach-group-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy --group-name FCJ-Group Thực hiện câu lệnh attach-role-policy để Attach Managed Policies FCJ-Managed-Policy vào Role FCJ-Role aws iam attach-role-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy --role-name FCJ-Role Thực hiện câu lệnh list-attached-user-policies để liệt kê tất cả Managed Policies của User FCJ-User-Login.\nChúng ta thấy hiện tại User FCJ-User-Login đang có Managed Policies FCJ-User-Managed-Policy aws iam list-attached-user-policies --user-name FCJ-User-Login Thực hiện câu lệnh list-attached-group-policies để liệt kê tất cả Managed Policies của Group FCJ-Group.\nChúng ta thấy hiện tại Group FCJ-Group đang có Managed Policies FCJ-Managed-Policy aws iam list-attached-group-policies --group-name FCJ-Group Thực hiện câu lệnh list-attached-role-policies để liệt kê tất cả Managed Policies của Role FCJ-Role.\nChúng ta thấy hiện tại Role FCJ-Role đang có Managed Policies FCJ-Managed-Policy aws iam list-attached-role-policies --role-name FCJ-Role Tiếp theo chúng ta sẽ tiến hành mô phỏng các Managed Policies chúng ta đã Attach vào các Entities phía trên.\n"
},
{
	"uri": "/vi/6-policiespermissions/6.4-boundaries/6.4.2-roles/",
	"title": "Boundaries cho Roles",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng attach-role-policy Attach Managed Policies vào Role được chỉ định detach-role-policy Detach Managed Policies khỏi Role được chỉ định put-role-permissions-boundary Chỉ định Managed Policies làm ranh giới quyền của Role được chỉ định delete-role-permissions-boundary Xóa Managed Policies đã được chỉ định làm ranh giới quyền khỏi Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nChỉ định ranh giới quyền cho Roles Để dễ dàng thì trong phần này chúng ta sẽ sử dụng các AWS Managed Policies Thực hiện câu lệnh attach-role-policy để Attach AWS Managed Policies AdministratorAccess vào Role FCJ-Role aws iam attach-role-policy --role-name FCJ-Role --policy-arn arn:aws:iam::aws:policy/AdministratorAccess Thực hiện câu lệnh put-role-permissions-boundary để chỉ định AWS Managed Policies AmazonS3FullAccess là ranh giới quyền của Role FCJ-Role aws iam put-role-permissions-boundary --role-name FCJ-Role --permissions-boundary arn:aws:iam::aws:policy/AmazonS3FullAccess Simulator Permissions boundaries Reload lại trang IAM Policy Simulator Tại phần Roles, Groups, and Roles, chọn FCJ-Role Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách AWS Managed Policies AdministratorAccess, trong phần Permission Boundary Policy là chính sách AWS Managed Policies AmazonS3FullAccess chúng ta đã thêm vào Role FCJ-Role ở bước trên Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả allowed cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ Lamda, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Như vậy, chúng ta đã thiết lập thành công ranh giới quyền tối đa cho FCJ-Role chỉ là AmazonS3FullAccess, không phải AdministratorAccess\nXóa ranh giới quyền khỏi Roles Thực hiện câu lệnh delete-role-permissions-boundary để xóa Managed Policies đã được chỉ định làm ranh giới quyền của Role FCJ-Role aws iam delete-role-permissions-boundary --role-name FCJ-Role Thực hiện câu lệnh detach-role-policy để detach AWS Managed Policies AdministratorAccess khỏi Role FCJ-Role aws iam detach-role-policy --role-name FCJ-Role --policy-arn arn:aws:iam::aws:policy/AdministratorAccess "
},
{
	"uri": "/vi/2-preparation/",
	"title": "Các bước chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Trong chương này, chúng ta sẽ lần lượt thực hiện:\nTạo 1 IAM Role Tạo 1 AWS keypair \u0026amp; 2 EC2 Instances Modify IAM Role của 1 EC2 Instance Cấu hình AWS CLI trên EC2 Instance Tạo Account Alias cho tài khoản AWS của chúng ta Nội dung 2.1 Tạo IAM Role\n2.2 Tạo EC2 Instances\n2.3 Modify IAM Role EC2\n2.4 Cấu hình AWS CLI\n2.5 Tạo Account Alias\n"
},
{
	"uri": "/vi/6-policiespermissions/6.2-inlinepolicies/",
	"title": "Inline Policies",
	"tags": [],
	"description": "",
	"content": "Trong chương này, chúng ta sẽ thực hiện các thao tác với liên quan đến Inline Policies bằng AWS CLI.\nNội dung: 6.2.1 Tạo Policies\n6.2.2 Simulator\n6.2.3 Xóa Policies\n"
},
{
	"uri": "/vi/3-workusers/3.2-authentication/",
	"title": "Quản lý xác thực",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng create-login-profile Tạo thông tin đăng nhập Console cho User được chỉ định update-login-profile Cập nhật thông tin đăng nhập Console cho User được chỉ định create-access-key Tạo Access Key cho User được chỉ định list-access-keys Liệt kê tất cả các Access Key của User được chỉ định update-access-key Cập nhật trạng thái Access Key cho User được chỉ định delete-access-key Xóa Access Key của User được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nLogin Profile Thực hiện câu lệnh create-user để tạo User FCJ-User-Login aws iam create-user --user-name FCJ-User-Login Thực hiện câu lệnh create-login-profile để tạo thông tin đăng nhập Console cho User FCJ-User-Login với password là FCJ2023@Password aws iam create-login-profile --user-name FCJ-User-Login --password FCJ2023@Password Thực hiện câu lệnh update-login-profile để cập nhật thông tin đăng nhập Console cho User FCJ-User-Login với password mới là FCJ2023@NewPassword aws iam update-login-profile --user-name FCJ-User-Login --password FCJ2023@NewPassword Mở một trình duyệt ẩn danh mới, truy cập đường link https://\u0026lt;Account Alias\u0026gt;.signin.aws.amazon.com/console để tiến hành đăng nhập Console với User FCJ-User-Login\nAccount ID (12 digits) or account alias: đã tự động điền thành giá trị \u0026lt;Account Alias\u0026gt; chúng ta đã tạo ở bước 2.5 IAM user name: Nhập FCJ-User-Login Password: Nhập FCJ2023@NewPassword Kiểm tra lại thông tin, chọn Sign in Đăng nhập thành công như hình bên dưới. Truy cập Giao diện quản trị dịch vụ EC2\nLúc này ta thấy hiện User FCJ-User-Login chưa có quyền truy cập EC2 và kể cả các dịch vụ khác. Như vậy là ta đã tạo thành công tạo User và tạo login-profile để cho phép User đăng nhập vào Console.\nAccess Key Thực hiện câu lệnh create-access-key để tạo Access Key cho User FCJ-User-Login.\nLưu ý: Lưu giữ cẩn thận thông tin Access Key và Secret Access Key để dùng cho những bước sau aws iam create-access-key --user-name FCJ-User-Login Thực hiện câu lệnh list-access-keys để liệt kê tất cả các Access Key của User FCJ-User-Login.\nHãy chú ý trạng thái lúc này của Access Key là đang Active aws iam list-access-keys --user-name FCJ-User-Login Thực hiện câu lệnh update-access-key để thay đổi trạng thái Access Key từ trạng thái Active (Có thể sử dụng) sang trạng thái Inactive (Không thể sử dụng).\nVà có thể thực hiện theo chiều ngược lại nếu cần bằng cách thay thế Inactive thành Active. Hãy thay thế \u0026lt;your_access_key_ID\u0026gt; cho phù hợp với thông tin của bạn aws iam update-access-key --access-key-id \u0026lt;your_access_key_ID\u0026gt; --status Inactive --user-name FCJ-User-Login Thực hiện câu lệnh list-access-keys để liệt kê tất cả các Access Key của User FCJ-User-Login.\nHãy chú ý trạng thái lúc này của Access Key là đã chuyển thành Inactive. aws iam list-access-keys --user-name FCJ-User-Login Thực hiện câu lệnh delete-access-key để xóa Access Key của User FCJ-User-Login. Hãy thay thế \u0026lt;your_access_key_ID\u0026gt; cho phù hợp với thông tin của bạn aws iam delete-access-key --access-key-id \u0026lt;your_access_key_ID\u0026gt; --user-name FCJ-User-Login Thực hiện câu lệnh list-access-keys để liệt kê tất cả các Access Key của User FCJ-User-Login.\nChúng ta thấy hiện tại User FCJ-User-Login không còn Access Key nào aws iam list-access-keys --user-name FCJ-User-Login "
},
{
	"uri": "/vi/6-policiespermissions/6.2-inlinepolicies/6.2.2-simulator/",
	"title": "Simulator",
	"tags": [],
	"description": "",
	"content": "Simulator Inline Policies for User (FCJ-User-Login) Reload lại trang IAM Policy Simulator Tại phần Users, Groups, and Roles, chọn FCJ-User-Login Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách Inline Policies FCJ-User-Inline-Policy chúng ta đã nhúng vào User FCJ-User-Login ở bước 6.2.1 Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả allowed cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ Lamda, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Quay lại giao diện Console đã đăng nhập với User FCJ-User-Login ở bước 3.2 Truy cập Giao diện quản trị dịch vụ EC2 Chúng ta sẽ thấy chúng ta được FullAccess đối với dịch vụ EC2 Như vậy, Inline Policies đối với User FCJ-User-Login đã hoạt động đúng\nSimulator Inline Policies for Group (FCJ-Group) Ở đây, chúng ta sẽ tiến hành mô phỏng với FCJ-User, do FCJ-User thuộc FCJ-Group\nTại phần Users, Groups, and Roles, chọn FCJ-User Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách Inline Policies FCJ-Inline-Policy chúng ta đã nhúng vào Group FCJ-Group ở bước 6.2.1 Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả allowed cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ Lamda, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Như vậy, Inline Policies đối với Group FCJ-Group đã hoạt động đúng\nSimulator Inline Policies for FCJ-Role Tại phần Users, Groups, and Roles, chọn FCJ-Role Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách Inline Policies FCJ-Inline-Policy chúng ta đã nhúng vào Role FCJ-Role ở bước 6.2.1 Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả allowed cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ Lamda, sau đó chọn Select All Chọn Simulator, chúng ta thấy kết quả denied cho tất cả các hành động Như vậy, Inline Policies đối với Role FCJ-Role đã hoạt động đúng\n"
},
{
	"uri": "/vi/2-preparation/2.2-createec2/",
	"title": "Tạo EC2 Instances",
	"tags": [],
	"description": "",
	"content": "Trình tự thực hiện Truy cập Giao diện quản trị dịch vụ EC2 Chọn Key Pairs Chọn Create key pair Tại trang Create key pair Tại mục Name, nhập FCJ-keypair Tại mục Key pair type, chọn RSA Tại mục Private key file format chọn .pem Sau đó chọn Create key pair và lưu lại file FCJ-keypair.pem trên máy tính của bạn để sử dụng cho dịch vụ SSH ở những bước kế tiếp Thành công tạo FCJ-keypair.pem Quay lại Giao diện quản trị dịch vụ EC2 Chọn Instances Chọn Launch instances Tại trang Launch an Instance Tại mục Name, nhập FCJ-Lab Tại mục Amazon Machine Image (AMI), chọn Amazon Linux 2 AMI Tại mục Instance type, chọn Instance type t2.micro Tại mục Key pair (login), chọn FCJ-keypair đã được tạo ở bước trước Kiểm tra lại thông tin và chọn Launch instance Thực hiện tương tự bước 4, 5 để tạo thêm 1 EC2 Instance với Name: FCJ-Test\nHoàn thành tạo 2 EC2 Instances FCJ-Lab và FCJ-Test "
},
{
	"uri": "/vi/4-workusergroups/4.2-adduser/",
	"title": "Thêm User vào Group",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng add-user-to-group Thêm User vào Group get-group Kiểm tra thông tin của Group được chỉ định list-groups-for-user Liệt kê tất cả các Group chứa User được chỉ định remove-user-from-group Xóa User được chỉ định khỏi Group được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nThêm User vào Group Thực hiện câu lệnh add-user-to-group để thêm User FCJ-User vào 2 Group FCJ-Group và FCJ-Group-After aws iam add-user-to-group --user-name FCJ-User --group-name FCJ-Group\raws iam add-user-to-group --user-name FCJ-User --group-name FCJ-Group-After Thực hiện câu lệnh get-group để kiểm tra thông tin của Group FCJ-Group.\nChúng ta có thể thấy trong phần Users có FCJ-User chúng ta đã thêm vào ở bước trên aws iam get-group --group-name FCJ-Group Thực hiện câu lệnh list-groups-for-user để liệt kê tất cả các Group chứa User FCJ-User.\nChúng ta thấy User FCJ-User hiện đang thuộc 2 Group FCJ-Group và FCJ-Group-After aws iam list-groups-for-user --user-name FCJ-User Thực hiện câu lệnh remove-user-from-group để xóa User FCJ-User khỏi Group FCJ-Group-After aws iam remove-user-from-group --user-name FCJ-User --group-name FCJ-Group-After Thực hiện câu lệnh list-groups-for-user để liệt kê tất cả các Group chứa User FCJ-User.\nChúng ta thấy User FCJ-User hiện tại chỉ thuộc Group FCJ-Group aws iam list-groups-for-user --user-name FCJ-User "
},
{
	"uri": "/vi/6-policiespermissions/6.3-managedpolicies/",
	"title": "Managed Policies",
	"tags": [],
	"description": "",
	"content": "Trong chương này, chúng ta sẽ thực hiện các thao tác với liên quan đến Managed Policies bằng AWS CLI.\nNội dung: 6.3.1 Tạo Policies\n6.3.2 Attach Policies\n6.3.3 Simulator\n6.3.4 Xóa Policies\n"
},
{
	"uri": "/vi/2-preparation/2.3-modifyroles/",
	"title": "Modify IAM Role EC2",
	"tags": [],
	"description": "",
	"content": "Trình tự thực hiện Truy cập Giao diện quản trị dịch vụ EC2 Chọn FCJ-Lab Chọn Actions, chọn Security sau đó chọn Modify IAM Role Tại trang Modify IAM Role Tại mục IAM Role, nhập FCJ-Admin-Role đã được tạo ở bước 2.1 Sau đó chọn Update IAM Role Thành công Modify IAM Role cho EC2 Instance FCJ-Lab "
},
{
	"uri": "/vi/6-policiespermissions/6.3-managedpolicies/6.3.3-simulator/",
	"title": "Simulator",
	"tags": [],
	"description": "",
	"content": "Simulator Managed Policies for User (FCJ-User-Login) Truy cập Giao diện quản trị dịch vụ EC2 Chúng ta thấy hiện tại đã liệt kê được số lượng EC2 Instances, đây là tác động của quyền ec2:DescribeInstances đối với mọi Resource EC2 của Managed Policies FCJ-User-Managed-Policy Chọn Instances, chúng ta sẽ được đưa đến giao diện chi tiết hơn Chọn FCJ-Test\nChọn Instance State, sau đó chọn Stop Instance Lúc này chúng ta bị bị lỗi, không đủ quyền để thực hiện hành động, do Managed Polices FCJ-User-Managed-Policy chỉ thực hiện được quyền ec2:StartInstances và ec2:StopInstances khi thỏa mãn Condition là ResourceTag với Key=Group, Value=FCJ. Phần Tag chúng ta hiện chưa có Tag thỏa mãn điều kiện này. Tiếp theo chúng ta sẽ thực hiện việc thêm Tag vào Instance FCJ-Test với Key=Group, Value=FCJ Thực hiện câu lệnh sau để in ra InstanceId của Instance FCJ-Test aws ec2 describe-instances --filters \u0026#34;Name=tag:Name,Values=FCJ-Test\u0026#34; --query \u0026#39;Reservations[].Instances[].{InstanceId:InstanceId}\u0026#39; --output text Lưu lại giá trị đầu ra InstanceId của lệnh trên rồi thực hiện tiếp câu lệnh sau để thêm Tag với Key=Group, Value=FCJ vào Instance FCJ-Test aws ec2 create-tags --resources \u0026lt;your_InstanceID\u0026gt; --tags \u0026#39;Key=\u0026#34;Group\u0026#34;,Value=FCJ\u0026#39; Thử tiến hành lại thao tác Stop Instance đối với Instance FCJ-Test, ta thấy hành động Stop Instance đã được thực hiện thành công. Chọn Tag, ta thấy đã có thêm một tag với Key=Group,Value=FCJ mà chúng ta đã thêm vào ở câu lệnh trên. Chờ cho Instance FCJ-Test chuyển sang trạng thái Stopped Chọn Instance State, sau đó chọn Start Instance Ta thấy hành động Start Instance đã được thực hiện thành công Như vậy, Managed Policies mà chúng ta đã Attach vào User FCJ-User-Login đã hoạt động đúng\nSimulator Managed Policies for Group (FCJ-Group) Ở đây, chúng ta sẽ tiến hành mô phỏng với FCJ-User, do FCJ-User thuộc FCJ-Group\nReload lại trang IAM Policy Simulator Tại phần Users, Groups, and Roles, chọn FCJ-User Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách Managed Policies FCJ-Managed-Policy chúng ta đã nhúng vào Group FCJ-Group ở bước 6.3.2 Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn 3 Action CreateBucket, DeleteBucket, ListBucket và vài Action tùy ý Chọn Simulator, chúng ta thấy kết quả allowed cho 3 Action CreateBucket, DeleteBucket, ListBucket, còn những Action tùy ý cho ra kết quả denied Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn 3 Action DescribeInstances, DescribeImages, DescribeInstanceTypes và vài Action tùy ý Chọn Simulator, chúng ta thấy kết quả allowed cho 3 Action DescribeInstances, DescribeImages, DescribeInstanceTypes, còn những Action tùy ý cho ra kết quả denied Như vậy, Managed Policies mà chúng ta đã Attach vào Group FCJ-Group đã hoạt động đúng\nSimulator Managed Policies for FCJ-Role Tại phần Users, Groups, and Roles, chọn FCJ-Role Tab Policies hiện ra, chúng ta sẽ thấy trong phần IAM Policies là chính sách Managed Policies FCJ-Managed-Policy chúng ta đã nhúng vào Role FCJ-Role ở bước 6.3.2 Tại phần Policy Simulator, chọn dịch vụ S3, sau đó chọn 3 Action CreateBucket, DeleteBucket, ListBucket và vài Action tùy ý Chọn Simulator, chúng ta thấy kết quả allowed cho 3 Action CreateBucket, DeleteBucket, ListBucket, còn những Action tùy ý cho ra kết quả denied Chọn Clear Result Tại phần Policy Simulator, chọn dịch vụ EC2, sau đó chọn 3 Action DescribeInstances, DescribeImages, DescribeInstanceTypes và vài Action tùy ý Chọn Simulator, chúng ta thấy kết quả allowed cho 3 Action DescribeInstances, DescribeImages, DescribeInstanceTypes, còn những Action tùy ý cho ra kết quả denied Ngoài ra chúng ta có thể chọn một lúc nhiều dịch vụ. Trong hình là ví dụ cho cả 2 dịch vụ S3 và EC2 Như vậy, Managed Policies mà chúng ta đã Attach vào Role FCJ-Role đã hoạt động đúng\n"
},
{
	"uri": "/vi/3-workusers/",
	"title": "Thao tác với Users",
	"tags": [],
	"description": "",
	"content": "\nTrong bước này, chúng ta sẽ thực hiện các thao tác với Users bằng AWS CLI.\nNội dung 3.1 Tạo Users\n3.2 Quản lý xác thực\n3.3 Xóa Users\n"
},
{
	"uri": "/vi/6-policiespermissions/6.2-inlinepolicies/6.2.3-deletepolicies/",
	"title": "Xóa Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng delete-user-policy Xóa Inline Policy được chỉ định khỏi User được chỉ định list-user-policies Liệt kê tất cả Inline Policies của User được chỉ định delete-group-policy Xóa Inline Policy được chỉ định khỏi Group được chỉ định list-group-policies Liệt kê tất cả Inline Policies của Group được chỉ định delete-role-policy Xóa Inline Policy được chỉ định khỏi Role được chỉ định list-role-policies Liệt kê tất cả Inline Policies của Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nXóa Policies Thực hiện câu lệnh delete-user-policy để xóa Inline Policies FCJ-User-Inline-Policy khỏi User FCJ-User-After aws iam delete-user-policy --user-name FCJ-User-Login --policy-name FCJ-User-Inline-Policy Thực hiện câu lệnh delete-group-policy để xóa Inline Policies FCJ-Inline-Policy khỏi Group FCJ-Group aws iam delete-group-policy --group-name FCJ-Group --policy-name FCJ-Inline-Policy Thực hiện câu lệnh delete-role-policy để xóa Inline Policies FCJ-Inline-Policy khỏi Role FCJ-Role aws iam delete-role-policy --role-name FCJ-Role --policy-name FCJ-Inline-Policy Thực hiện câu lệnh list-user-policies để liệt kê tất cả Inline Policies của User FCJ-User-Login.\nChúng ta thấy hiện tại User FCJ-User-Login không còn Inline Policies nào aws iam list-user-policies --user-name FCJ-User-Login Thực hiện câu lệnh list-group-policies để liệt kê tất cả Inline Policies của Group FCJ-Group.\nChúng ta thấy hiện tại Group FCJ-Group không còn Inline Policies nào aws iam list-group-policies --group-name FCJ-Group Thực hiện câu lệnh list-role-policies để liệt kê tất cả Inline Policies của Role FCJ-Role.\nChúng ta thấy hiện tại Role FCJ-Role không còn Inline Policies nào aws iam list-role-policies --role-name FCJ-Role "
},
{
	"uri": "/vi/5-workroles/5.3-deleterole/",
	"title": "Xóa Roles",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng list-roles Liệt kê tất cả Role hiện có trong Account delete-role Xóa Role được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nXóa Roles Thực hiện câu lệnh list-roles để liệt kê các Role hiện có trong Account aws iam list-roles Trường hợp Account chúng ta có nhiều Role thì output sẽ rất nhiều, khá khó khăn trong việc liệt kê. Nên chúng ta có thể thêm option \u0026ndash;query để xử lý đầu ra một cách gọn và đúng mong muốn hơn. Câu lệnh dưới đây sẽ lọc ra những Role với Rolename bắt đầu bằng chuỗi \u0026ldquo;FCJ-Role\u0026rdquo; và chỉ in ra 2 nội dung bao gồm Rolename và Arn aws iam list-roles --query \u0026#34;Roles[?starts_with(RoleName,\u0026#39;FCJ-Role\u0026#39;)].{RoleName:RoleName, Arn:Arn}\u0026#34; --output json Thực hiện câu lệnh delete-role để để xóa Role FCJ-Role-Updated aws iam delete-role --role-name FCJ-Role-Updated Thực hiện câu lệnh list-roles để liệt kê các Role hiện có trong Account\nChúng ta thấy hiện tại chỉ còn Role FCJ-Role aws iam list-roles "
},
{
	"uri": "/vi/4-workusergroups/4.3-deletegroup/",
	"title": "Xóa User Groups",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng list-groups Liệt kê tất cả Group hiện có trong Account remove-user-from-group Xóa User được chỉ định khỏi Group được chỉ định delete-group Xóa Group được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nXóa User Groups Thực hiện câu lệnh list-groups để liệt kê các Group hiện có trong Account.\nChúng ta thấy hiện tại có 2 Group FCJ-Group và FCJ-Group-After aws iam list-groups Thực hiện câu lệnh delete-group để để xóa Group FCJ-Group-After aws iam delete-group --group-name FCJ-Group-After Thực hiện câu lệnh list-groups để liệt kê các Group hiện có trong Account.\nChúng ta thấy hiện tại chỉ còn Group FCJ-Group aws iam list-groups Phải xóa User ra khỏi Group (remove-user-from-group, xem lại bước 4.2) trước khi xóa Group (delete-group)\n"
},
{
	"uri": "/vi/3-workusers/3.3-deleteuser/",
	"title": "Xóa Users",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng list-users Liệt kê tất cả User hiện có trong Account delete-user Xóa User được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nXóa Users Thực hiện câu lệnh list-users để liệt kê các User hiện có trong Account.\nChúng ta thấy hiện tại có 3 User FCJ-User, FCJ-User-Login, FCJ-User-After aws iam list-users Thực hiện câu lệnh delete-user để để xóa User FCJ-User-After aws iam delete-user --user-name FCJ-User-After Thực hiện câu lệnh list-users để liệt kê các User hiện có trong Account.\nChúng ta thấy hiện tại chỉ còn 2 User FCJ-User, FCJ-User-Login. Hai User này sẽ được sử dụng trong những bước tiếp theo. aws iam list-users "
},
{
	"uri": "/vi/2-preparation/2.4-configurecli/",
	"title": "Cấu hình AWS CLI",
	"tags": [],
	"description": "",
	"content": "Trình tự thực hiện Truy cập Giao diện quản trị dịch vụ EC2 Chọn FCJ-Lab Trong tab Detail, lưu lại thông tin Public IPv4 Address để chuẩn bị thông tin cho bước SSH phía dưới Chúng ta tiến hành thực hiện SSH vào EC2 Instance FCJ-Lab\nỞ đây chúng ta dùng MobaXterm. Bạn có thể xem chi tiết hơn Cách kết nối EC2 Instance bằng MobaXterm Chọn Session Chọn SSH Tại mục Remote host, nhập Public IPv4 Address đã được lưu lại ở bước trước Chọn Specify username, nhập ec2-user Chọn Advange SSH Settings Chọn use private key, sau đó truy xuất đường dẫn đến file FCJ-keypair.pem đã lưu ở bước 2.2 Chọn OK Kết nối thành công như hình bên dưới\nTiếp theo chúng ta tiến hành thực hiện các câu lệnh để cấu hình AWS CLI Đầu tiên chúng ta thực hiện câu lệnh sau để cấu hình AWS CLI trên EC2 Instance aws configure Trong đó AWS Access Key ID [None]: Bỏ trống AWS Secret Access Key [None]: Bỏ trống Default region name [None]: Nhập ap-southeast-1 Default output format [None]: nhập json Thực hiện câu lệnh sau để kiểm tra AWS CLI đã hoạt động trên EC2 Instance chưa, câu lệnh này sẽ liệt kê tất cả EC2 Instance hiện tại, hiển thị các thông số:\nInstanceId, PublicIpAddress, State, Name dưới dạng table aws ec2 describe-instances --query \u0026#39;Reservations[].Instances[].{InstanceId:InstanceId, IP:PublicIpAddress, State:State.Name, Name:Tags[?Key==`Name`]|[0].Value}\u0026#39; --output table Như vậy thì AWS CLI đã cấu hình thành công trên EC2 Instance của chúng ta.\nThực tế chúng ta không cần nhập Access Key ID và Secret Access Key là do chúng ta đã Modify Role cho EC2 với Policies Administrator ở bước 2.3.\nNhư vậy từ EC2 chúng ta có thể thực hiện bất kỳ hành động nào đối với các tài nguyên AWS trong Account của chúng ta. Từ đây các câu lệnh CLI của bài Lab sẽ được sử dụng thông qua Terminal của EC2 Instance FCJ-Lab\n"
},
{
	"uri": "/vi/6-policiespermissions/6.4-boundaries/",
	"title": "Permissions boundaries",
	"tags": [],
	"description": "",
	"content": "Permissions Boundaries là một tính năng giúp chúng ta có thể sử dụng Managed Policies để đặt ranh giới cho các danh tính IAM (Users hoặc Roles) nghĩa là chính sách đó sẽ giới hạn quyền tối đa cho Users hoặc Roles.\nTrong chương này, chúng ta sẽ thực hiện các thao tác với liên quan đến Permissions Boundaries đối với Users và Roles bằng AWS CLI.\nNội dung: 6.4.1 Users\n6.4.2 Roles\n"
},
{
	"uri": "/vi/4-workusergroups/",
	"title": "Thao tác với User Groups",
	"tags": [],
	"description": "",
	"content": "\nTrong chương này, chúng ta sẽ thực hiện các thao tác với User Groups bằng AWS CLI.\nNội dung 4.1 Tạo User Groups\n4.2 Thêm User vào Group\n4.3 Xóa User Groups\n"
},
{
	"uri": "/vi/6-policiespermissions/6.3-managedpolicies/6.3.4-deletepolicies/",
	"title": "Xóa Policies",
	"tags": [],
	"description": "",
	"content": "Các câu lệnh thường được sử dụng Command Chức năng list-entities-for-policy Liệt kê tất cả Entities của Managed Policies được chỉ định detach-user-policy Detach Managed Policies được chỉ định khỏi User được chỉ định detach-group-policy Detach Managed Policies được chỉ định khỏi Group được chỉ định detach-role-policy Detach Managed Policies được chỉ định khỏi Role được chỉ định delete-policy Xóa Managed Policy được chỉ định Chúng ta có thể tìm hiểu sâu hơn từng lệnh bằng cách nhấn vào tên command.\nXóa Policies Thêm thông tin Account ID của bạn trước khi thực hiện các câu lệnh attach\nThực hiện câu lệnh list-entities-for-policy để liệt kê tất cả Entities của Managed Policies FCJ-User-Managed-Policy.\nTa thấy User FCJ-User-Login đang được Attach aws iam list-entities-for-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-User-Managed-Policy Thực hiện câu lệnh list-entities-for-policy để liệt kê tất cả Entities của Managed Policies FCJ-Managed-Policy.\nTa thấy Group FCJ-Group và Role FCJ-Role đang được Attach aws iam list-entities-for-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy Thực hiện câu lệnh detach-user-policy để detach Managed Policies FCJ-User-Managed-Policy khỏi User FCJ-User-Login aws iam detach-user-policy --user-name FCJ-User-Login --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-User-Managed-Policy Thực hiện câu lệnh detach-group-policyđể detach Managed Policies FCJ-Managed-Policy khỏi Group FCJ-Group aws iam detach-group-policy --group-name FCJ-Group --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy Thực hiện câu lệnh detach-role-policyđể detach Managed Policies FCJ-Managed-Policy khỏi Role FCJ-Role aws iam detach-role-policy --role-name FCJ-Role --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy Thực hiện câu lệnh list-entities-for-policy để liệt kê tất cả Entities của Managed Policies FCJ-User-Managed-Policy\nTa thấy không còn Entities nào được Attach aws iam list-entities-for-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-User-Managed-Policy Thực hiện câu lệnh list-entities-for-policy để liệt kê tất cả Entities của Managed Policies FCJ-Managed-Policy\nTa thấy không còn Entities nào được Attach aws iam list-entities-for-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy Thực hiện câu lệnh delete-policyđể xóa Managed Policies FCJ-User-Managed-Policy và FCJ-Managed-Policy aws iam delete-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-User-Managed-Policy\raws iam delete-policy --policy-arn arn:aws:iam::\u0026lt;your_Account_ID\u0026gt;:policy/FCJ-Managed-Policy "
},
{
	"uri": "/vi/2-preparation/2.5-creatalias/",
	"title": "Tạo Account Alias",
	"tags": [],
	"description": "",
	"content": "Trình tự thực hiện Truy cập Giao diện quản trị dịch vụ IAM Chọn Dashboard Tại mục AWS Account chúng ta thấy các thông tin Account ID: Dãy ký tự 12 số đại diện cho Account của chúng ta Account Alias: Chưa có thông tin Sign-in URL for IAM users in this account: đường dẫn đăng nhập cho người dùng IAM trong tài khoản này. Định dạng https://\u0026lt;Account ID\u0026gt;.signin.aws.amazon.com/console Việc ghi nhớ Account ID gồm 12 chữ số này rất khó khăn trong trường hợp Account chúng ta có nhiều User, nên AWS cung cấp cho chúng ta tính năng Account Alias nhằm tạo một bí danh (alias) đại diện cho tên công ty, tên team, hay cá nhân với mục đích đăng nhập trở nên dễ dàng hơn.\nChúng ta sẽ thực hiện tạo Account Alias thông qua AWS CLI bằng câu lệnh sau, hãy thay thế \u0026lt;Account Alias\u0026gt; bằng tên bạn muốn\naws iam create-account-alias --account-alias \u0026lt;Account Alias\u0026gt; Reload lại Giao diện quản trị dịch vụ IAM Chọn Dashboard Tại mục AWS Account chúng ta thấy các thông tin, Account Alias, Sign-in URL for IAM users in this account đã được cập nhật tương ứng với \u0026lt;Account Alias\u0026gt; mà chúng ta vừa thực hiện trong câu lệnh phía trên. Từ bây giờ chúng ta có thể dễ dàng đăng nhập Console qua cú pháp đường link https://\u0026lt;Account Alias\u0026gt;.signin.aws.amazon.com/console "
},
{
	"uri": "/vi/5-workroles/",
	"title": "Thao tác với Roles",
	"tags": [],
	"description": "",
	"content": "\nTrong bước này, chúng ta sẽ thực hiện các thao tác với Roles bằng AWS CLI.\nNội dung 5.1 Tạo Roles\n5.2 Attach Policy\n5.3 Xóa Roles\n"
},
{
	"uri": "/vi/6-policiespermissions/",
	"title": "Policies và Permissions",
	"tags": [],
	"description": "",
	"content": "\nCác khái niệm Policies là các điều khoản được tạo hoặc chỉ định để kiểm soát quyền truy cập vào tài nguyên của AWS. Mỗi một policy có những tính năng và quyền hạn nhất định gắn với Users, Groups, Roles trong IAM.\nTrong AWS, Policies được chia làm 2 loại: Identity-based policies và Resource-based policies\nIdentity-based policies: được gán cho IAM identities (IAM Users, IAM Groups, IAM Roles) chỉ định những hành động và những resources tương ứng mà IAM identities được phép (Allow) hoặc không được phép (Deny) thực hiện. Identity-based policies có thể được phân loại thành 2 loại: Managed policies: Chính sách dựa trên danh tính độc lập mà bạn có thể đính kèm cho nhiều người dùng, nhóm và vai trò trong tài khoản AWS của chúng ta. AWS managed policies: Các chính sách được quản lý do AWS tạo và quản lý. Customer managed policies: Các chính sách do chúng ta tự tạo ra và quản lý trong tài khoản AWS của mình. Inline policies: Các chính sách tạm thời mà chúng ta tạo và quản lý và được nhúng trực tiếp vào một User, Group hoặc Role. Resource-based policies: Loại chính sách này được gán cho AWS Resource, chẳng hạn như các tài nguyên EC2, S3 buckets, Lambda, và nhiều dịch vụ khác. Chính sách này xác định ai hoặc cái gì có quyền truy cập hoặc thực hiện hành động trên chính tài nguyên đó. Cấu trúc của một Policy {\r\u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;,\r\u0026#34;Statement\u0026#34;:[\r{\r\u0026#34;Effect\u0026#34;:\u0026#34;effect\u0026#34;,\r\u0026#34;Action\u0026#34;:\u0026#34;action\u0026#34;,\r\u0026#34;Resource\u0026#34;:\u0026#34;arn\u0026#34;,\r\u0026#34;Condition\u0026#34;:{\r\u0026#34;condition\u0026#34;:{\r\u0026#34;key\u0026#34;:\u0026#34;value\u0026#34;\r}\r}\r}\r]\r} Trong đó:\nVersion: là phiên bản của ngôn ngữ policy Effect: Là 1 thành phần bắt buộc và chỉ định kết quả statement được chấp nhận hoặc từ chối (Allow/Deny) Action: Mô tả hành động cụ thể sẽ được phép hoặc bị từ chối. Resource: Chỉ định những tài nguyên AWS bị ảnh hưởng bởi Action. Condition: Chỉ định các điều kiện bắt buộc để policy có hiệu lực Trong chương này, chúng ta sẽ cùng tìm hiểu về Policy Simulator và thực hiện các thao tác với liên quan đến Policies và Permissions bằng AWS CLI.\nNội dung 6.1 Policy Simulator\n6.2 Inline Policies\n6.3 Managed Policies\n6.4 Permissions boundaries\n"
},
{
	"uri": "/vi/7-cleanup/",
	"title": "Dọn Dẹp Tài Nguyên",
	"tags": [],
	"description": "",
	"content": "Chúng ta sẽ tiến hành các bước sau để xóa các tài nguyên chúng ta đã tạo trong bài thực hành này.\nXóa EC2 Instances Truy cập Giao diện quản trị dịch vụ EC2\nChọn Instances Chọn FCJ-Lab và FCJ-Test Chọn Instance state Chọn Terminate instance, sau đó chọn Terminate để xác nhận Xóa Key pairs Tại Giao diện quản trị dịch vụ EC2\nChọn Key Pairs Chọn FCJ-keypair Chọn Actions, sau đó chọn Delete Nhập Delete để xác nhận, sau đó chọn Delete Xóa User Groups Truy cập Giao diện quản trị dịch vụ IAM\nChọn User Groups Chọn FCJ-Group Chọn Delete Nhập FCJ-Group để xác nhận, sau đó chọn Delete Xóa User Groups Tại Giao diện quản trị dịch vụ IAM\nChọn Users Chọn FCJ-User và FCJ-User-Login Chọn Delete Xóa Roles Tại Giao diện quản trị dịch vụ IAM\nChọn Roles Chọn FCJ-Admin-Role và FCJ-Role Chọn Delete Nhập delete để xác nhận, sau đó chọn Delete "
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]